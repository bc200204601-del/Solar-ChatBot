<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Solar Power Chatbot - Rawalpindi</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background: #f8f9fa;
      padding: 40px;
    }
    h1 {
      color: #2b6cb0;
    }
    .btn-container {
      margin: 20px auto;
    }
    button {
      background: #2b6cb0;
      color: white;
      border: none;
      padding: 12px 20px;
      margin: 8px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      transition: 0.3s;
    }
    button:hover {
      background: #1a4369;
    }
    df-messenger {
      --df-messenger-bot-message: #e0f0ff;
      --df-messenger-button-titlebar-color: #2b6cb0;
      --df-messenger-chat-background-color: #ffffff;
      --df-messenger-send-icon: #2b6cb0;
      --df-messenger-user-message: #d1ffd1;
    }
  </style>
</head>
<body>

  <h1>üåû Solar Power Chatbot - Rawalpindi</h1>
  <p>Click a button to ask a question:</p>

  <div class="btn-container">
    <button onclick="sendMessage('I want to know my system size')">üìè Get System Size</button>
    <button onclick="sendMessage('What is the cost estimate?')">üí∞ Cost Estimation</button>
    <button onclick="sendMessage('Find solar installers in Rawalpindi')">üîß Find Installers</button>
    <button onclick="sendMessage('What is net metering?')">‚ö° Learn Net Metering</button>
    <button onclick="sendMessage('Tell me about solar FAQ')">‚ùì Solar FAQ</button>
  </div>

  <!-- Dialogflow Messenger widget -->
  <df-messenger
    intent="WELCOME"
    chat-title="SolarBot RWP"
    agent-id="728466b3-b1f9-4094-9b64-ece38da84ac2"
    language-code="en">
  </df-messenger>

  <script src="https://www.gstatic.com/dialogflow-console/fast/messenger/bootstrap.js?v=1"></script>
  <script>
    // Function to simulate button sending message into chat
    function sendMessage(text) {
      const iframe = document.querySelector("df-messenger").shadowRoot.querySelector("iframe");
      const innerDoc = iframe.contentDocument || iframe.contentWindow.document;
      const input = innerDoc.querySelector("input");
      const sendBtn = innerDoc.querySelector("button");

      input.value = text;
      input.dispatchEvent(new Event('input', { bubbles: true }));
      sendBtn.click();
    }
  </script>

</body>
</html>
