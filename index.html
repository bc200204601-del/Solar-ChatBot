<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Solar Chatbot – Rawalpindi</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="https://www.gstatic.com/dialogflow-console/fast/messenger/bootstrap.js?v=1"></script>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; margin: 0; }
    main { max-width: 800px; margin: 48px auto; padding: 0 16px; }
    h1 { margin-bottom: 8px; }
    p { color: #333; }
    .button-container { margin: 16px 0; display:flex; flex-wrap:wrap; gap: 12px; }
    button { padding: 10px 16px; border:none; border-radius:5px; background-color:#0b57d0; color:#fff; cursor:pointer; }
    button:hover { background-color:#0845a1; }
  </style>
</head>
<body>
  <main>
    <h1>Solar Chatbot – Rawalpindi (RWP)</h1>
    <p>Click a button or type your query:</p>

    <div class="button-container">
      <button onclick="sendEvent('Get_System_Size')">System Size</button>
      <button onclick="sendEvent('Check_Cost')">Cost Estimate</button>
      <button onclick="sendEvent('Learn_Net_Metering')">Net Metering</button>
      <button onclick="sendEvent('Solar_FAQ')">FAQs</button>
    </div>
  </main>

  <df-messenger
      chat-title="Solar RWP Bot"
      agent-id="728466b3-b1f9-4094-9b64-ece38da84ac2"
      language-code="en"
      intent="WELCOME">
  </df-messenger>

  <script>
    const dfMessenger = document.querySelector('df-messenger');

    function sendEvent(eventName) {
      dfMessenger.renderCustomText(`__event__:${eventName}`);
    }

    // Optional: Auto-focus chat window when button clicked
    const buttons = document.querySelectorAll('.button-container button');
    buttons.forEach(btn => btn.addEventListener('click', () => {
      const chatIframe = dfMessenger.shadowRoot.querySelector('iframe');
      if(chatIframe) chatIframe.contentWindow.focus();
    }));
  </script>
</body>
</html>
